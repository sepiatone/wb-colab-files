<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-7.5 -8 760.8718872070312 2742.60009765625" style="max-width: 100%;" xmlns="http://www.w3.org/2000/svg" width="100%" id="graph-div" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink"><style>@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css");'</style><style>#graph-div{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#graph-div .error-icon{fill:#552222;}#graph-div .error-text{fill:#552222;stroke:#552222;}#graph-div .edge-thickness-normal{stroke-width:2px;}#graph-div .edge-thickness-thick{stroke-width:3.5px;}#graph-div .edge-pattern-solid{stroke-dasharray:0;}#graph-div .edge-pattern-dashed{stroke-dasharray:3;}#graph-div .edge-pattern-dotted{stroke-dasharray:2;}#graph-div .marker{fill:#333333;stroke:#333333;}#graph-div .marker.cross{stroke:#333333;}#graph-div svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#graph-div .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#graph-div .cluster-label text{fill:#333;}#graph-div .cluster-label span,#graph-div p{color:#333;}#graph-div .label text,#graph-div span,#graph-div p{fill:#333;color:#333;}#graph-div .node rect,#graph-div .node circle,#graph-div .node ellipse,#graph-div .node polygon,#graph-div .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#graph-div .flowchart-label text{text-anchor:middle;}#graph-div .node .label{text-align:center;}#graph-div .node.clickable{cursor:pointer;}#graph-div .arrowheadPath{fill:#333333;}#graph-div .edgePath .path{stroke:#333333;stroke-width:2.0px;}#graph-div .flowchart-link{stroke:#333333;fill:none;}#graph-div .edgeLabel{background-color:#e8e8e8;text-align:center;}#graph-div .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#graph-div .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#graph-div .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#graph-div .cluster text{fill:#333;}#graph-div .cluster span,#graph-div p{color:#333;}#graph-div div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#graph-div .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#graph-div :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#graph-div .empty&gt;*{width:0px!important;height:0px!important;}#graph-div .empty span{width:0px!important;height:0px!important;}#graph-div .code&gt;*{color:red!important;}#graph-div .code span{color:red!important;}#graph-div .code tspan{fill:red!important;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="10" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="0" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(-7.5, -8)" class="root"><g class="clusters"><g id="subGraph4" class="cluster default flowchart-label"><rect height="2726.5999755859375" width="744.8718795776367" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(286.92969131469727, 8)" class="cluster-label"><foreignObject height="36" width="187.0124969482422"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><span style="font-size:24px">TransformerBlock</span></span></div></foreignObject></g></g><g id="subGraph0" class="cluster default flowchart-label"><rect height="261.1999969482422" width="522.625" y="175.5999984741211" x="130.18750190734863" ry="0" rx="0" style=""></rect><g transform="translate(130.18750190734863, 175.5999984741211)" class="cluster-label"><foreignObject height="36" width="522.625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><span style="font-size:24px">ln1                          </span></span></div></foreignObject></g></g><g id="subGraph1" class="cluster default flowchart-label"><rect height="827.9999923706055" width="669.0625" y="510.7999954223633" x="73.07656478881836" ry="0" rx="0" style=""></rect><g transform="translate(73.07656478881836, 510.7999954223633)" class="cluster-label"><foreignObject height="36" width="669.0625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><span style="font-size:24px">attn                                 </span></span></div></foreignObject></g></g><g id="subGraph2" class="cluster default flowchart-label"><rect height="261.1999969482422" width="181.6999969482422" y="1762.999984741211" x="269.67812728881836" ry="0" rx="0" style=""></rect><g transform="translate(269.67812728881836, 1762.999984741211)" class="cluster-label"><foreignObject height="36" width="181.6999969482422"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><span style="font-size:24px">ln2         </span></span></div></foreignObject></g></g><g id="subGraph3" class="cluster default flowchart-label"><rect height="261.1999969482422" width="213.3000030517578" y="2098.199981689453" x="253.87812423706055" ry="0" rx="0" style=""></rect><g transform="translate(253.87812423706055, 2098.199981689453)" class="cluster-label"><foreignObject height="36" width="213.3000030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><span style="font-size:24px">mlp          </span></span></div></foreignObject></g></g></g><g class="edgePaths"><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-resid_pre LE-D" id="L-resid_pre-D-0" d="M137.03125,97.11825597738918L124.58333333333333,104.03187972684451C112.13541666666667,110.94550347629983,87.23958333333333,124.77275097521046,74.79166666666667,137.85304139133243C62.34375,150.93333180745444,62.34375,163.26666514078775,62.34375,179.3166650136312C62.34375,195.3666648864746,62.34375,215.13333129882812,62.34375,236.89999771118164C62.34375,258.66666412353516,62.34375,282.4333305358887,62.34375,306.1999969482422C62.34375,329.9666633605957,62.34375,353.7333297729492,62.34375,375.49999618530273C62.34375,397.26666259765625,62.34375,417.03332901000977,62.34375,433.0833288828532C62.34375,449.1333287556966,62.34375,461.46666208902997,62.34375,473.7999954223633C62.34375,486.1333287556966,62.34375,498.46666208902997,62.34375,514.5166619618734C62.34375,530.5666618347168,62.34375,550.3333282470703,62.34375,570.0999946594238C62.34375,589.8666610717773,62.34375,609.6333274841309,62.34375,625.6833273569742C62.34375,641.7333272298177,62.34375,654.066660563151,62.34375,668.3999938964844C62.34375,682.7333272298177,62.34375,699.066660563151,62.34375,719.1166604359945C62.34375,739.1666603088379,62.34375,762.9333267211914,62.34375,786.6999931335449C62.34375,810.4666595458984,62.34375,834.233325958252,62.34375,857.9999923706055C62.34375,881.766658782959,62.34375,905.5333251953125,62.34375,927.299991607666C62.34375,949.0666580200195,62.34375,968.833324432373,62.34375,984.1333243052164C62.34375,999.4333241780599,62.34375,1010.2666575113932,62.34375,1023.0999908447266C62.34375,1035.9333241780598,62.34375,1050.7666575113933,62.34375,1070.0666573842366C62.34375,1089.36665725708,62.34375,1113.1333236694336,62.34375,1136.899990081787C62.34375,1160.6666564941406,62.34375,1184.4333229064941,62.34375,1208.1999893188477C62.34375,1231.9666557312012,62.34375,1255.7333221435547,62.34375,1277.4999885559082C62.34375,1299.2666549682617,62.34375,1319.0333213806152,62.34375,1335.0833212534587C62.34375,1351.133321126302,62.34375,1363.4666544596355,62.34375,1381.5166543324788C62.34375,1399.5666542053223,62.34375,1423.3333206176758,62.34375,1445.0999870300293C62.34375,1466.8666534423828,62.34375,1486.6333198547363,100.55208333333333,1501.761725218604C138.76041666666666,1516.8901305824718,215.17708333333334,1527.3802748978535,253.38541666666666,1532.6253470555448L291.59375,1537.8704192132357"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-resid_mid" id="L-D-resid_mid-0" d="M299.09375,1546.3999862670898L299.09375,1552.5666529337566C299.09375,1558.733319600423,299.09375,1571.0666529337566,299.09375,1583.3999862670898C299.09375,1595.733319600423,299.09375,1608.0666529337566,299.09375,1614.233319600423L299.09375,1620.3999862670898"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-resid_mid LE-E" id="L-resid_mid-E-0" d="M245.40625,1670.8685967355746L214.89583333333334,1680.0571614031805C184.38541666666666,1689.2457260707868,123.36458333333333,1707.6228554059987,92.85416666666667,1722.9780867402715C62.34375,1738.3333180745442,62.34375,1750.6666514078777,62.34375,1766.716651280721C62.34375,1782.7666511535645,62.34375,1802.533317565918,62.34375,1824.2999839782715C62.34375,1846.066650390625,62.34375,1869.8333168029785,62.34375,1893.599983215332C62.34375,1917.3666496276855,62.34375,1941.133316040039,62.34375,1962.8999824523926C62.34375,1984.666648864746,62.34375,2004.4333152770996,62.34375,2020.483315149943C62.34375,2036.5333150227864,62.34375,2048.8666483561196,62.34375,2061.199981689453C62.34375,2073.5333150227866,62.34375,2085.8666483561196,62.34375,2101.9166482289634C62.34375,2117.9666481018066,62.34375,2137.73331451416,62.34375,2159.4999809265137C62.34375,2181.266647338867,62.34375,2205.0333137512207,62.34375,2228.799980163574C62.34375,2252.5666465759277,62.34375,2276.3333129882812,62.34375,2298.0999794006348C62.34375,2319.8666458129883,62.34375,2339.633312225342,62.34375,2355.683312098185C62.34375,2371.733311971029,62.34375,2384.066645304362,62.34375,2402.1166451772056C62.34375,2420.166645050049,62.34375,2443.9333114624023,62.34375,2465.699977874756C62.34375,2487.4666442871094,62.34375,2507.233310699463,100.55208333333333,2522.3617160633307C138.76041666666666,2537.490121427198,215.17708333333334,2547.9802657425803,253.38541666666666,2553.225337900271L291.59375,2558.470410057962"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-resid_post" id="L-E-resid_post-0" d="M299.09375,2566.9999771118164L299.09375,2573.166643778483C299.09375,2579.33331044515,299.09375,2591.666643778483,299.09375,2603.9999771118164C299.09375,2616.33331044515,299.09375,2628.666643778483,299.09375,2634.83331044515L299.09375,2640.9999771118164"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-resid_pre LE-scale" id="L-resid_pre-scale-0" d="M244.40625,88.52347221104787L265.5187505086263,96.86955992156008C286.6312510172526,105.21564763207228,328.8562520345052,121.90782305309669,349.96875254313153,136.42057743027556C371.0812530517578,150.93333180745444,371.0812530517578,163.26666514078775,371.0812530517578,173.5999984741211C371.0812530517578,183.93333180745444,371.0812530517578,192.26666514078775,371.0812530517578,196.43333180745444L371.0812530517578,200.5999984741211"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-scale LE-normalized" id="L-scale-normalized-0" d="M371.0812530517578,269.1999969482422L371.0812530517578,275.3666636149089C371.0812530517578,281.5333302815755,371.0812530517578,293.8666636149089,371.0812530517578,306.1999969482422C371.0812530517578,318.5333302815755,371.0812530517578,330.8666636149089,371.0812530517578,337.0333302815755L371.0812530517578,343.1999969482422"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-normalized LE-v" id="L-normalized-v-0" d="M317.3937530517578,396.68883768380294L298.6895860036214,403.37403064022965C279.98541895548504,410.0592235966564,242.57708485921225,423.4296095095098,223.87291781107584,436.2814691326032C205.16875076293945,449.1333287556966,205.16875076293945,461.46666208902997,205.16875076293945,473.7999954223633C205.16875076293945,486.1333287556966,205.16875076293945,498.46666208902997,205.16875076293945,514.5166619618734C205.16875076293945,530.5666618347168,205.16875076293945,550.3333282470703,205.16875076293945,570.0999946594238C205.16875076293945,589.8666610717773,205.16875076293945,609.6333274841309,205.16875076293945,625.6833273569742C205.16875076293945,641.7333272298177,205.16875076293945,654.066660563151,205.16875076293945,668.3999938964844C205.16875076293945,682.7333272298177,205.16875076293945,699.066660563151,205.16875076293945,719.1166604359945C205.16875076293945,739.1666603088379,205.16875076293945,762.9333267211914,205.16875076293945,786.6999931335449C205.16875076293945,810.4666595458984,205.16875076293945,834.233325958252,205.16875076293945,852.2833258310953C205.16875076293945,870.3333257039388,205.16875076293945,882.6666590372721,205.16875076293945,888.8333257039388L205.16875076293945,894.9999923706055"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-v LE-G" id="L-v-G-0" d="M205.16875076293945,963.5999908447266L205.16875076293945,967.7666575113932C205.16875076293945,971.9333241780599,205.16875076293945,980.2666575113932,231.8458340962728,989.6075439965356C258.52291742960614,998.9484304816779,311.87708409627277,1009.2968701186293,338.55416742960614,1014.4710899371049L365.23125076293945,1019.6453097555807"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-z" id="L-G-z-0" d="M372.73125076293945,1028.5999908447266L372.73125076293945,1034.7666575113933C372.73125076293945,1040.9333241780598,372.73125076293945,1053.2666575113933,372.73125076293945,1065.5999908447266C372.73125076293945,1077.9333241780598,372.73125076293945,1090.2666575113933,372.73125076293945,1096.4333241780598L372.73125076293945,1102.5999908447266"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-z LE-result" id="L-z-result-0" d="M372.73125076293945,1171.1999893188477L372.73125076293945,1177.3666559855144C372.73125076293945,1183.533322652181,372.73125076293945,1195.8666559855144,372.73125076293945,1208.1999893188477C372.73125076293945,1220.533322652181,372.73125076293945,1232.8666559855144,372.73125076293945,1239.033322652181L372.73125076293945,1245.1999893188477"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-result LE-attn_out" id="L-result-attn_out-0" d="M372.73125076293945,1313.7999877929688L372.73125076293945,1317.9666544596355C372.73125076293945,1322.133321126302,372.73125076293945,1330.4666544596355,372.73125076293945,1340.7999877929688C372.73125076293945,1351.133321126302,372.73125076293945,1363.4666544596355,372.73125076293945,1375.7999877929688C372.73125076293945,1388.133321126302,372.73125076293945,1400.4666544596355,372.73125076293945,1406.633321126302L372.73125076293945,1412.7999877929688"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-attn_out LE-D" id="L-attn_out-D-0" d="M372.73125076293945,1481.3999862670898L372.73125076293945,1485.5666529337566C372.73125076293945,1489.733319600423,372.73125076293945,1498.0666529337566,361.7083339691162,1507.098297255661C350.68541717529297,1516.1299415775654,328.6395835876465,1525.8598968880408,317.61666679382324,1530.724874543279L306.59375,1535.5898521985166"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-normalized LE-q" id="L-normalized-q-0" d="M371.0812530517578,411.7999954223633L371.0812530517578,415.96666208902997C371.0812530517578,420.1333287556966,371.0812530517578,428.46666208902997,371.0812530517578,438.7999954223633C371.0812530517578,449.1333287556966,371.0812530517578,461.46666208902997,371.0812530517578,473.7999954223633C371.0812530517578,486.1333287556966,371.0812530517578,498.46666208902997,371.0812530517578,508.7999954223633C371.0812530517578,519.1333287556967,371.0812530517578,527.4666620890299,371.0812530517578,531.6333287556967L371.0812530517578,535.7999954223633"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-q LE-F" id="L-q-F-0" d="M371.0812530517578,604.3999938964844L371.0812530517578,608.566660563151C371.0812530517578,612.7333272298177,371.0812530517578,621.066660563151,387.8937530517578,630.9732349576147C404.7062530517578,640.8798093520784,438.3312530517578,652.3596248076724,455.1437530517578,658.0995325354694L471.9562530517578,663.8394402632664"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-attn_scores" id="L-F-attn_scores-0" d="M479.4562530517578,673.8999938964844L479.4562530517578,680.816660563151C479.4562530517578,687.7333272298177,479.4562530517578,701.566660563151,479.4562530517578,714.6499938964844C479.4562530517578,727.7333272298177,479.4562530517578,740.066660563151,479.4562530517578,746.2333272298177L479.4562530517578,752.3999938964844"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-attn_scores LE-pattern" id="L-attn_scores-pattern-0" d="M479.4562530517578,820.9999923706055L479.4562530517578,827.1666590372721C479.4562530517578,833.3333257039388,479.4562530517578,845.6666590372721,479.4562530517578,857.9999923706055C479.4562530517578,870.3333257039388,479.4562530517578,882.6666590372721,479.4562530517578,888.8333257039388L479.4562530517578,894.9999923706055"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-pattern LE-G" id="L-pattern-G-0" d="M479.4562530517578,963.5999908447266L479.4562530517578,967.7666575113932C479.4562530517578,971.9333241780599,479.4562530517578,980.2666575113932,462.9187526702881,989.4693396465185C446.38125228881836,998.6720217816437,413.3062515258789,1008.7440527185609,396.7687511444092,1013.7800681870194L380.23125076293945,1018.816083655478"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-normalized LE-k" id="L-normalized-k-0" d="M424.7687530517578,392.18820245538205L451.9458363850911,399.6235012832123C479.1229197184245,407.05880011104244,533.4770863850912,421.92939776670283,560.6541697184244,435.5313632611997C587.8312530517578,449.1333287556966,587.8312530517578,461.46666208902997,587.8312530517578,473.7999954223633C587.8312530517578,486.1333287556966,587.8312530517578,498.46666208902997,587.8312530517578,508.7999954223633C587.8312530517578,519.1333287556967,587.8312530517578,527.4666620890299,587.8312530517578,531.6333287556967L587.8312530517578,535.7999954223633"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-k LE-F" id="L-k-F-0" d="M587.8312530517578,604.3999938964844L587.8312530517578,608.566660563151C587.8312530517578,612.7333272298177,587.8312530517578,621.066660563151,571.0187530517578,630.9732349576147C554.2062530517578,640.8798093520784,520.5812530517578,652.3596248076724,503.7687530517578,658.0995325354694L486.9562530517578,663.8394402632664"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-resid_mid LE-scale2" id="L-resid_mid-scale2-0" d="M328.6477340721741,1688.999984741211L333.96113268730164,1695.1666514078777C339.27453130242924,1701.3333180745442,349.9013285326843,1713.6666514078777,355.21472714781186,1725.999984741211C360.52812576293945,1738.3333180745442,360.52812576293945,1750.6666514078777,360.52812576293945,1760.999984741211C360.52812576293945,1771.3333180745442,360.52812576293945,1779.6666514078777,360.52812576293945,1783.8333180745442L360.52812576293945,1787.999984741211"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-scale2 LE-normalized2" id="L-scale2-normalized2-0" d="M360.52812576293945,1856.599983215332L360.52812576293945,1862.7666498819988C360.52812576293945,1868.9333165486653,360.52812576293945,1881.2666498819988,360.52812576293945,1893.599983215332C360.52812576293945,1905.9333165486653,360.52812576293945,1918.2666498819988,360.52812576293945,1924.4333165486653L360.52812576293945,1930.599983215332"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-normalized2 LE-pre" id="L-normalized2-pre-0" d="M360.52812576293945,1999.1999816894531L360.52812576293945,2003.3666483561199C360.52812576293945,2007.5333150227864,360.52812576293945,2015.8666483561199,360.52812576293945,2026.1999816894531C360.52812576293945,2036.5333150227864,360.52812576293945,2048.8666483561196,360.52812576293945,2061.199981689453C360.52812576293945,2073.5333150227866,360.52812576293945,2085.8666483561196,360.52812576293945,2096.199981689453C360.52812576293945,2106.5333150227866,360.52812576293945,2114.8666483561196,360.52812576293945,2119.0333150227866L360.52812576293945,2123.199981689453"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-pre LE-post" id="L-pre-post-0" d="M360.52812576293945,2191.799980163574L360.52812576293945,2197.9666468302407C360.52812576293945,2204.1333134969077,360.52812576293945,2216.4666468302407,360.52812576293945,2228.799980163574C360.52812576293945,2241.1333134969077,360.52812576293945,2253.4666468302407,360.52812576293945,2259.6333134969077L360.52812576293945,2265.799980163574"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-post LE-mlp_out" id="L-post-mlp_out-0" d="M360.52812576293945,2334.3999786376953L360.52812576293945,2338.566645304362C360.52812576293945,2342.733311971029,360.52812576293945,2351.066645304362,360.52812576293945,2361.3999786376953C360.52812576293945,2371.733311971029,360.52812576293945,2384.066645304362,360.52812576293945,2396.3999786376953C360.52812576293945,2408.733311971029,360.52812576293945,2421.066645304362,360.52812576293945,2427.233311971029L360.52812576293945,2433.3999786376953"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-mlp_out LE-E" id="L-mlp_out-E-0" d="M360.52812576293945,2501.9999771118164L360.52812576293945,2506.166643778483C360.52812576293945,2510.33331044515,360.52812576293945,2518.666643778483,351.5390631357829,2527.58870238581C342.5500005086263,2536.510760993137,324.57187525431317,2546.021544874458,315.58281262715656,2550.7769368151185L306.59375,2555.532328755779"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(299.09375, 1583.3999862670898)" class="edgeLabel"><g transform="translate(-13.11875057220459, -12)" class="label"><foreignObject height="24" width="26.23750114440918"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">add</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(299.09375, 2603.9999771118164)" class="edgeLabel"><g transform="translate(-13.11875057220459, -12)" class="label"><foreignObject height="24" width="26.23750114440918"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">add</span></div></foreignObject></g></g><g transform="translate(371.0812530517578, 138.5999984741211)" class="edgeLabel"><g transform="translate(-102.8687515258789, -12)" class="label"><foreignObject height="24" width="205.7375030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">subtract mean, divide by std</span></div></foreignObject></g></g><g transform="translate(371.0812530517578, 306.1999969482422)" class="edgeLabel"><g transform="translate(-38.47500228881836, -12)" class="label"><foreignObject height="24" width="76.95000457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">W_ln, b_ln</span></div></foreignObject></g></g><g transform="translate(205.16875076293945, 666.3999938964844)" class="edgeLabel"><g transform="translate(-33.243751525878906, -12)" class="label"><foreignObject height="24" width="66.48750305175781"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">W_V, b_V</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(372.73125076293945, 1065.5999908447266)" class="edgeLabel"><g transform="translate(-107.2750015258789, -12)" class="label"><foreignObject height="24" width="214.5500030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">weighted avg of value vectors</span></div></foreignObject></g></g><g transform="translate(372.73125076293945, 1208.1999893188477)" class="edgeLabel"><g transform="translate(-16.40625, -12)" class="label"><foreignObject height="24" width="32.8125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">W_O</span></div></foreignObject></g></g><g transform="translate(372.73125076293945, 1375.7999877929688)" class="edgeLabel"><g transform="translate(-106.9000015258789, -12)" class="label"><foreignObject height="24" width="213.8000030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">sum over heads, add bias b_O</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(371.0812530517578, 473.7999954223633)" class="edgeLabel"><g transform="translate(-35.82500076293945, -12)" class="label"><foreignObject height="24" width="71.6500015258789"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">W_Q, b_Q</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(479.4562530517578, 715.3999938964844)" class="edgeLabel"><g transform="translate(-151.7062530517578, -12)" class="label"><foreignObject height="24" width="303.4125061035156"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">dot product along d_head, scale and mask</span></div></foreignObject></g></g><g transform="translate(479.4562530517578, 857.9999923706055)" class="edgeLabel"><g transform="translate(-28.512500762939453, -12)" class="label"><foreignObject height="24" width="57.025001525878906"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">softmax</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(587.8312530517578, 473.7999954223633)" class="edgeLabel"><g transform="translate(-34.22500228881836, -12)" class="label"><foreignObject height="24" width="68.45000457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">W_K, b_K</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(360.52812576293945, 1725.999984741211)" class="edgeLabel"><g transform="translate(-102.8687515258789, -12)" class="label"><foreignObject height="24" width="205.7375030517578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">subtract mean, divide by std</span></div></foreignObject></g></g><g transform="translate(360.52812576293945, 1893.599983215332)" class="edgeLabel"><g transform="translate(-38.47500228881836, -12)" class="label"><foreignObject height="24" width="76.95000457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">W_ln, b_ln</span></div></foreignObject></g></g><g transform="translate(360.52812576293945, 2061.199981689453)" class="edgeLabel"><g transform="translate(-38.31875228881836, -12)" class="label"><foreignObject height="24" width="76.63750457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">W_in, b_in</span></div></foreignObject></g></g><g transform="translate(360.52812576293945, 2228.799980163574)" class="edgeLabel"><g transform="translate(-22.86250114440918, -12)" class="label"><foreignObject height="24" width="45.72500228881836"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">act_fn</span></div></foreignObject></g></g><g transform="translate(360.52812576293945, 2396.3999786376953)" class="edgeLabel"><g transform="translate(-48.6875, -12)" class="label"><foreignObject height="24" width="97.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">W_out, b_out</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(299.09375, 2675.299976348877)" id="flowchart-resid_post-1042" class="node default default flowchart-label"><rect height="68.60000228881836" width="107.375" y="-34.30000114440918" x="-53.6875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-46.1875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="92.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">resid_post<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, d_model)</code></span></div></foreignObject></g></g><g transform="translate(190.71875, 67.29999923706055)" id="flowchart-resid_pre-1038" class="node default default flowchart-label"><rect height="68.60000228881836" width="107.375" y="-34.30000114440918" x="-53.6875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-46.1875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="92.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">resid_pre<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, d_model)</code></span></div></foreignObject></g></g><g transform="translate(299.09375, 1538.8999862670898)" id="flowchart-D-1039" class="node default empty flowchart-label"><rect height="15" width="15" y="-7.5" x="-7.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(0, 0)" style="" class="label"><rect></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g><g transform="translate(299.09375, 1654.6999855041504)" id="flowchart-resid_mid-1040" class="node default default flowchart-label"><rect height="68.60000228881836" width="107.375" y="-34.30000114440918" x="-53.6875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-46.1875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="92.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">resid_mid<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, d_model)</code></span></div></foreignObject></g></g><g transform="translate(299.09375, 2559.4999771118164)" id="flowchart-E-1041" class="node default empty flowchart-label"><rect height="15" width="15" y="-7.5" x="-7.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(0, 0)" style="" class="label"><rect></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g><g transform="translate(371.0812530517578, 234.89999771118164)" id="flowchart-scale-1043" class="node default default flowchart-label"><rect height="68.60000228881836" width="67.78750228881836" y="-34.30000114440918" x="-33.89375114440918" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-26.39375114440918, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="52.78750228881836"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">scale<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, 1)</code></span></div></foreignObject></g></g><g transform="translate(371.0812530517578, 377.49999618530273)" id="flowchart-normalized-1044" class="node default default flowchart-label"><rect height="68.60000228881836" width="107.375" y="-34.30000114440918" x="-53.6875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-46.1875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="92.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">normalized<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, d_model)</code></span></div></foreignObject></g></g><g transform="translate(205.16875076293945, 929.299991607666)" id="flowchart-v-1048" class="node default default flowchart-label"><rect height="68.60000228881836" width="166.75" y="-34.30000114440918" x="-83.375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-75.875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="151.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">v<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, head_idx, d_head)</code></span></div></foreignObject></g></g><g transform="translate(372.73125076293945, 1021.0999908447266)" id="flowchart-G-1054" class="node default empty flowchart-label"><rect height="15" width="15" y="-7.5" x="-7.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(0, 0)" style="" class="label"><rect></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g><g transform="translate(372.73125076293945, 1136.899990081787)" id="flowchart-z-1055" class="node default default flowchart-label"><rect height="68.60000228881836" width="166.75" y="-34.30000114440918" x="-83.375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-75.875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="151.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">z<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, head_idx, d_head)</code></span></div></foreignObject></g></g><g transform="translate(372.73125076293945, 1279.4999885559082)" id="flowchart-result-1056" class="node default default flowchart-label"><rect height="68.60000228881836" width="173.35000610351562" y="-34.30000114440918" x="-86.67500305175781" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-79.17500305175781, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="158.35000610351562"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">result<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, head_idx, d_model)</code></span></div></foreignObject></g></g><g transform="translate(372.73125076293945, 1447.0999870300293)" id="flowchart-attn_out-1062" class="node default default flowchart-label"><rect height="68.60000228881836" width="107.375" y="-34.30000114440918" x="-53.6875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-46.1875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="92.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">attn_out<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, d_model)</code></span></div></foreignObject></g></g><g transform="translate(371.0812530517578, 570.0999946594238)" id="flowchart-q-1049" class="node default default flowchart-label"><rect height="68.60000228881836" width="166.75" y="-34.30000114440918" x="-83.375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-75.875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="151.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">q<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, head_idx, d_head)</code></span></div></foreignObject></g></g><g transform="translate(479.4562530517578, 666.3999938964844)" id="flowchart-F-1052" class="node default empty flowchart-label"><rect height="15" width="15" y="-7.5" x="-7.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(0, 0)" style="" class="label"><rect></rect><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g><g transform="translate(479.4562530517578, 786.6999931335449)" id="flowchart-attn_scores-1051" class="node default default flowchart-label"><rect height="68.60000228881836" width="160.15000915527344" y="-34.30000114440918" x="-80.07500457763672" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-72.57500457763672, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="145.15000915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">attn_scores<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(head_idx, seqQ, seqK)</code></span></div></foreignObject></g></g><g transform="translate(479.4562530517578, 929.299991607666)" id="flowchart-pattern-1053" class="node default default flowchart-label"><rect height="68.60000228881836" width="160.15000915527344" y="-34.30000114440918" x="-80.07500457763672" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-72.57500457763672, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="145.15000915527344"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">pattern<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(head_idx, seqQ, seqK)</code></span></div></foreignObject></g></g><g transform="translate(587.8312530517578, 570.0999946594238)" id="flowchart-k-1050" class="node default default flowchart-label"><rect height="68.60000228881836" width="166.75" y="-34.30000114440918" x="-83.375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-75.875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="151.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">k<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, head_idx, d_head)</code></span></div></foreignObject></g></g><g transform="translate(360.52812576293945, 1822.2999839782715)" id="flowchart-scale2-1073" class="node default default flowchart-label"><rect height="68.60000228881836" width="67.78750228881836" y="-34.30000114440918" x="-33.89375114440918" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-26.39375114440918, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="52.78750228881836"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">scale<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, 1)</code></span></div></foreignObject></g></g><g transform="translate(360.52812576293945, 1964.8999824523926)" id="flowchart-normalized2-1074" class="node default default flowchart-label"><rect height="68.60000228881836" width="107.375" y="-34.30000114440918" x="-53.6875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-46.1875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="92.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">normalized<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, d_model)</code></span></div></foreignObject></g></g><g transform="translate(360.52812576293945, 2157.4999809265137)" id="flowchart-pre-1079" class="node default default flowchart-label"><rect height="68.60000228881836" width="133.76250457763672" y="-34.30000114440918" x="-66.88125228881836" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-59.38125228881836, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="118.76250457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">pre<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, 4 * d_model)</code></span></div></foreignObject></g></g><g transform="translate(360.52812576293945, 2300.0999794006348)" id="flowchart-post-1080" class="node default default flowchart-label"><rect height="68.60000228881836" width="133.76250457763672" y="-34.30000114440918" x="-66.88125228881836" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-59.38125228881836, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="118.76250457763672"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">post<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, 4 * d_model)</code></span></div></foreignObject></g></g><g transform="translate(360.52812576293945, 2467.699977874756)" id="flowchart-mlp_out-1084" class="node default default flowchart-label"><rect height="68.60000228881836" width="107.375" y="-34.30000114440918" x="-53.6875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-46.1875, -26.80000114440918)" style="" class="label"><rect></rect><foreignObject height="53.60000228881836" width="92.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">mlp_out<div style="border-top:2px solid black;margin-top:4px"></div><code style="color:red;font-size:12px">(seq, d_model)</code></span></div></foreignObject></g></g></g></g></g></g></g></svg>